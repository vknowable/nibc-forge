services:
  hermes:
    restart: unless-stopped
    hostname: hermes
    image: debian:bookworm-slim
    entrypoint: [ "sh", "-c", "chmod +x /docker-entrypoint-scripts.d/on-start.sh && /docker-entrypoint-scripts.d/on-start.sh" ]
    volumes:
      - ./on-start.sh:/docker-entrypoint-scripts.d/on-start.sh
      - ./init-channels.sh:/docker-entrypoint-scripts.d/init-channels.sh:ro
      - ./bin:/root/bin:ro
      - ./chainlist.json:/root/chainlist.json:ro # this file will be generated by the 'nibc-forge create' command
      - ./config.toml:/root/config.toml:ro # this file will be generated by the 'nibc-forge create' command

    environment:
      - TOPOLOGY=${TOPOLOGY:-hub} # how to connect the chains via ibc -- can be one of 'hub' or 'mesh'

    # ports:
      # - "30000:3000" # rest api port
      # - "30001:3001" # telemetry port
